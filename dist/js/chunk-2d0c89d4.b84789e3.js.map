{"version":3,"sources":["webpack:///./src/views/CustomerConfirm.vue?818a","webpack:///src/views/CustomerConfirm.vue","webpack:///./src/views/CustomerConfirm.vue?445b","webpack:///./src/views/CustomerConfirm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","$event","preventDefault","payOrder","_m","_l","order","item","key","_s","product","title","quantity","unit","price","attrs","amount","user","name","email","tel","address","paid","_e","staticRenderFns","data","orders","orderId","isLoading","created","$route","params","getDetailed","getOrders","methods","$http","get","api","then","id","console","log","post","res","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,KAAK,CAACJ,EAAIO,GAAG,mCAAmCH,EAAG,MAAM,CAACE,YAAY,8CAA8C,CAACF,EAAG,OAAO,CAACE,YAAY,qBAAqBE,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBV,EAAIW,SAASF,MAAW,CAACL,EAAG,QAAQ,CAACE,YAAY,SAAS,CAACN,EAAIY,GAAG,GAAGR,EAAG,QAAQJ,EAAIa,GAAIb,EAAIc,MAAc,UAAE,SAASC,EAAKC,GAAK,OAAOZ,EAAG,KAAK,CAACY,IAAIA,GAAK,CAACZ,EAAG,KAAK,CAACJ,EAAIO,GAAG,IAAIP,EAAIiB,GAAGD,EAAM,GAAG,OAAOZ,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAIO,GAAG,IAAIP,EAAIiB,GAAGF,EAAKG,QAAQC,OAAO,OAAOf,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAIO,GAAGP,EAAIiB,GAAGF,EAAKK,UAAU,IAAIpB,EAAIiB,GAAGF,EAAKG,QAAQG,SAASjB,EAAG,KAAK,CAACE,YAAY,2BAA2B,CAACN,EAAIO,GAAG,IAAIP,EAAIiB,GAAGF,EAAKG,QAAQI,OAAO,OAAOlB,EAAG,KAAK,CAACE,YAAY,2BAA2B,CAACN,EAAIO,GAAG,IAAIP,EAAIiB,GAAGF,EAAKG,QAAQI,MAAQP,EAAKK,UAAU,YAAW,GAAGhB,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,aAAaiB,MAAM,CAAC,QAAU,MAAM,CAACvB,EAAIO,GAAG,aAAaH,EAAG,KAAK,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAG,IAAIP,EAAIiB,GAAGjB,EAAIc,MAAMU,QAAQ,aAAapB,EAAG,QAAQ,CAACE,YAAY,SAAS,CAACF,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,UAAUH,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIiB,GAAGjB,EAAIc,MAAMW,KAAKC,WAAWtB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACmB,MAAM,CAAC,MAAQ,QAAQ,CAACvB,EAAIO,GAAG,aAAaH,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIiB,GAAGjB,EAAIc,MAAMW,KAAKE,YAAYvB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,kBAAkBH,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIiB,GAAGjB,EAAIc,MAAMW,KAAKG,UAAUxB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,aAAaH,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIiB,GAAGjB,EAAIc,MAAMW,KAAKI,cAAczB,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,WAAWH,EAAG,KAAK,CAAGJ,EAAIc,MAAMgB,KAAoC1B,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACN,EAAIO,GAAG,uBAA7EH,EAAG,OAAO,CAACJ,EAAIO,GAAG,qBAA8G,IAAnBP,EAAIc,MAAMgB,KAAgB1B,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkB,CAACN,EAAIO,GAAG,uBAAuBP,EAAI+B,YAC30DC,EAAkB,CAAC,WAAa,IAAIhC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,OAAOH,EAAG,KAAK,CAACJ,EAAIO,GAAG,cAAcH,EAAG,KAAK,CAACJ,EAAIO,GAAG,cAAcH,EAAG,KAAK,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAG,mBAAmBH,EAAG,KAAK,CAACE,YAAY,cAAc,CAACN,EAAIO,GAAG,qBCiFlT,G,UAAA,CACEmB,KAAM,kBACNO,KAFF,WAGI,MAAO,CACLnB,MAAO,CACLW,KAAM,IAERS,OAAQ,GACRC,QAAS,GACTC,WAAW,IAGfC,QAZF,WAaIpC,KAAKkC,QAAUlC,KAAKqC,OAAOC,OAAOJ,QAC9BlC,KAAKkC,SACPlC,KAAKuC,YAAYvC,KAAKkC,SAExBlC,KAAKwC,aAEPC,QAAS,CACPD,UADJ,WACA,sEACMxC,KAAKmC,WAAY,EAEjB,IAAN,mIACMnC,KAAKmC,WAAY,EACjBnC,KAAK0C,MAAMC,IAAIC,GAAKC,MAAK,SAA/B,GACQ,EAAR,mBACQ,EAAR,iBAGIN,YAXJ,SAWA,cACMvC,KAAKmC,WAAY,EACjBnC,KAAKkC,QAAUY,EAEf,IAAN,8HAEM9C,KAAK0C,MAAMC,IAAIC,GAAKC,MAAK,SAA/B,GACQ,EAAR,kBACQE,QAAQC,IAAI,EAApB,OACQ,EAAR,iBAGItC,SAvBJ,WAuBA,WACMV,KAAKmC,WAAY,EACjB,IAAN,mJAEMnC,KAAK0C,MAAMO,KAAKL,GAAKC,MAAK,SAAhC,GACYK,EAAIlB,KAAKA,KAAKH,MAChB,EAAV,uBAEQ,EAAR,YACQ,EAAR,0BACA,qBACA,WACQ,EAAR,oBCxIyV,I,YCOrVsB,EAAY,eACd,EACArD,EACAiC,GACA,EACA,KACA,KACA,MAIa,aAAAoB,E","file":"js/chunk-2d0c89d4.b84789e3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page__confirm\"},[_c('h2',[_vm._v(\"Order Test System - Check Out\")]),_c('div',{staticClass:\"my-5 row no-gutters justify-content-center\"},[_c('form',{staticClass:\"col-md-6 text-left\",on:{\"submit\":function($event){$event.preventDefault();return _vm.payOrder($event)}}},[_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.order.products),function(item,key){return _c('tr',{key:key},[_c('td',[_vm._v(\" \"+_vm._s(key + 1)+\" \")]),_c('td',{staticClass:\"align-middle\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \")]),_c('td',{staticClass:\"align-middle\"},[_vm._v(_vm._s(item.quantity)+\"/\"+_vm._s(item.product.unit))]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(\" \"+_vm._s(item.product.price)+\" \")]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(\" \"+_vm._s(item.product.price * item.quantity)+\" \")])])}),0),_c('tfoot',[_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"4\"}},[_vm._v(\" Total \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm.order.amount)+\" \")])])])]),_c('table',{staticClass:\"table\"},[_c('tbody',[_c('tr',[_c('th',[_vm._v(\"Name\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.name))])]),_c('tr',[_c('th',{attrs:{\"width\":\"100\"}},[_vm._v(\" Email \")]),_c('td',[_vm._v(_vm._s(_vm.order.user.email))])]),_c('tr',[_c('th',[_vm._v(\"Phone Number\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.tel))])]),_c('tr',[_c('th',[_vm._v(\"Address\")]),_c('td',[_vm._v(_vm._s(_vm.order.user.address))])]),_c('tr',[_c('th',[_vm._v(\"Paid?\")]),_c('td',[(!_vm.order.paid)?_c('span',[_vm._v(\"Unpaid\")]):_c('span',{staticClass:\"text-success\"},[_vm._v(\"Payment Completed\")])])])])]),(_vm.order.paid === false)?_c('div',{staticClass:\"text-right\"},[_c('button',{staticClass:\"btn btn-danger\"},[_vm._v(\" Go To Payment \")])]):_vm._e()])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"#\")]),_c('th',[_vm._v(\"Products\")]),_c('th',[_vm._v(\"Quantity\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"Session Price\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"Total Price\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page__confirm\">\n    <h2>Order Test System - Check Out</h2>\n    <div class=\"my-5 row no-gutters justify-content-center\">\n      <form class=\"col-md-6 text-left\" @submit.prevent=\"payOrder\">\n        <table class=\"table\">\n          <thead>\n            <th>#</th>\n            <th>Products</th>\n            <th>Quantity</th>\n            <th class=\"text-right\">Session Price</th>\n            <th class=\"text-right\">Total Price</th>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item, key) in order.products\" :key=\"key\">\n              <td>\n                {{ key + 1 }}\n              </td>\n              <td class=\"align-middle\">\n                {{ item.product.title }}\n              </td>\n              <td class=\"align-middle\">{{ item.quantity }}/{{ item.product.unit }}</td>\n              <td class=\"align-middle text-right\">\n                {{ item.product.price }}\n              </td>\n              <td class=\"align-middle text-right\">\n                {{ item.product.price * item.quantity }}\n              </td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td colspan=\"4\" class=\"text-right\">\n                Total\n              </td>\n              <td class=\"text-right\">\n                {{ order.amount }}\n              </td>\n            </tr>\n          </tfoot>\n        </table>\n\n        <table class=\"table\">\n          <tbody>\n            <tr>\n              <th>Name</th>\n              <td>{{ order.user.name }}</td>\n            </tr>\n            <tr>\n              <th width=\"100\">\n                Email\n              </th>\n              <td>{{ order.user.email }}</td>\n            </tr>\n            <tr>\n              <th>Phone Number</th>\n              <td>{{ order.user.tel }}</td>\n            </tr>\n            <tr>\n              <th>Address</th>\n              <td>{{ order.user.address }}</td>\n            </tr>\n            <tr>\n              <th>Paid?</th>\n              <td>\n                <span v-if=\"!order.paid\">Unpaid</span>\n                <span v-else class=\"text-success\">Payment Completed</span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <div v-if=\"order.paid === false\" class=\"text-right\">\n          <button class=\"btn btn-danger\">\n            Go To Payment\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'CustomerConfirm',\n  data() {\n    return {\n      order: {\n        user: {},\n      },\n      orders: [],\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  created() {\n    this.orderId = this.$route.params.orderId;\n    if (this.orderId) {\n      this.getDetailed(this.orderId);\n    }\n    this.getOrders();\n  },\n  methods: {\n    getOrders(page = 1) {\n      this.isLoading = true;\n\n      const api = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/orders?page=${page}`;\n      this.isLoading = true;\n      this.$http.get(api).then((res) => {\n        this.orders = res.data.data;\n        this.isLoading = false;\n      });\n    },\n    getDetailed(id) {\n      this.isLoading = true;\n      this.orderId = id;\n\n      const api = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/orders/${id}`;\n\n      this.$http.get(api).then((res) => {\n        this.order = res.data.data;\n        console.log(this.order);\n        this.isLoading = false;\n      });\n    },\n    payOrder() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/orders/${this.orderId}/paying`;\n\n      this.$http.post(api).then((res) => {\n        if (res.data.data.paid) {\n          this.getDetailed(this.orderId);\n        }\n        this.getOrders();\n        this.$bus.$emit('message:push',\n          'Payment completed.',\n          'success');\n        this.isLoading = false;\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerConfirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerConfirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerConfirm.vue?vue&type=template&id=a6916780&\"\nimport script from \"./CustomerConfirm.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerConfirm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}