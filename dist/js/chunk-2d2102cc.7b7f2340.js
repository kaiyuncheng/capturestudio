(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2102cc"],{b789:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"page__cart"},[e("h2",{staticClass:"text-center"},[t._v("Shopping Cart")]),e("div",{staticClass:"my-5 row justify-content-center"},[e("div",{staticClass:"col-md-10"},[e("div",{staticClass:"text-right mb-3"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(a){return t.removeAllCartItem()}}},[e("i",{staticClass:"far fa-trash-alt mr-2"}),t._v(" Delete All ")])]),e("table",{staticClass:"table text-left"},[t._m(0),t.cart.length?e("tbody",t._l(t.cart,(function(a){return e("tr",{key:a.id},[e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeCartItem(a.product.id)}}},[e("i",{staticClass:"far fa-trash-alt"})])]),e("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.title)+" "),a.coupon?e("div",{staticClass:"text-success"},[t._v(" Coupon Used ")]):t._e()]),e("td",{staticClass:"align-middle"},[e("div",{staticClass:"input-group"},[e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"btn btn-outline-primary",attrs:{disabled:1===a.quantity},on:{click:function(e){return t.updateQuantity(a.product.id,a.quantity-1)}}},[t._v(" - ")])]),e("input",{staticClass:"form-control text-center",attrs:{type:"text"},domProps:{value:a.quantity},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateQuantity(a.product.id,e.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-primary",on:{click:function(e){return t.updateQuantity(a.product.id,a.quantity+1)}}},[t._v(" + ")])])])]),e("td",{staticClass:"align-middle"},[t._v(" "+t._s(a.product.unit)+" ")]),e("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(a.product.price)+" ")]),e("td",{staticClass:"align-middle text-right"},[t._v(" "+t._s(a.product.price*a.quantity)+" ")])])})),0):t._e(),e("tfoot",[e("tr",[e("td"),e("td"),e("td"),e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[e("div",{staticClass:"input-group input-group-sm"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Coupon Code"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-primary",on:{click:t.addCoupon}},[e("i",{staticClass:"fas fa-gift"}),t._v(" USE ")])])])])]),e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"5"}},[t._v(" Total ")]),e("td",{staticClass:"text-right"},[t._v(" "+t._s(t.cartTotal)+" ")])]),t.coupon.enabled?e("tr",[e("td",{staticClass:"text-right text-danger",attrs:{colspan:"5"}},[t._v(" "+t._s(100-t.coupon.percent)+" % OFF ")]),e("td",{staticClass:"text-right text-danger"},[t._v(" - "+t._s(t.cartTotal*(100-t.coupon.percent)/100)+" ")])]):t._e(),t.coupon.enabled?e("tr",[e("td",{staticClass:"text-right text-success",attrs:{colspan:"5"}},[t._v(" Discounted ")]),e("td",{staticClass:"text-right text-success"},[t._v(" "+t._s(t.cartTotal*(t.coupon.percent/100))+" ")])]):t._e()])]),e("button",{staticClass:"btn btn-outline-primary text-right mr-2",attrs:{type:"button"},on:{click:t.continueShopping}},[t._v("Continue to look around")]),e("button",{staticClass:"btn btn-primary text-white text-right",attrs:{type:"button"},on:{click:t.nextStep}},[t._v("Next Step")])])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("th"),e("th",[t._v("Product")]),e("th",{attrs:{width:"150px"}},[t._v(" Quantity ")]),e("th",[t._v("Unit")]),e("th",{staticClass:"text-right"},[t._v("Session Price")]),e("th",{staticClass:"text-right"},[t._v("Total Price")])])}],n=(e("99af"),e("4160"),e("159b"),{name:"Cart",data:function(){return{cart:{},cartTotal:0,coupon:{},coupon_code:"",status:{loadingItem:""},isLoading:!1,fullPage:!0}},created:function(){this.getCart()},methods:{getCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("9dbf2f88-0be6-48e9-9ccc-4a55fdfe8806","/ec/shopping");this.$http.get(a).then((function(a){t.cart=a.data.data,t.cartTotal=0,t.cart.forEach((function(a){t.cartTotal+=a.product.price*a.quantity})),t.isLoading=!1}))},updateQuantity:function(t,a){var e=this;if(!(a<=0)){this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api/").concat("9dbf2f88-0be6-48e9-9ccc-4a55fdfe8806","/ec/shopping"),i={product:t,quantity:a};this.$http.patch(s,i).then((function(){e.isLoading=!1,e.getCart()}))}},removeAllCartItem:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("9dbf2f88-0be6-48e9-9ccc-4a55fdfe8806","/ec/shopping/all/product");this.$http.delete(a).then((function(){t.$bus.$emit("message:push","Cart is empty.","success"),t.isLoading=!1,t.getCart()}))},removeCartItem:function(t){var a=this;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api/").concat("9dbf2f88-0be6-48e9-9ccc-4a55fdfe8806","/ec/shopping/").concat(t);this.$http.delete(e).then((function(){a.$bus.$emit("message:push","Deleted","success"),a.isLoading=!1,a.getCart()}))},addCoupon:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("9dbf2f88-0be6-48e9-9ccc-4a55fdfe8806","/ec/coupon/search");this.$http.post(a,{code:this.coupon_code}).then((function(a){t.coupon=a.data.data,t.$bus.$emit("message:push","Coupon applied.","success"),t.isLoading=!1})).catch((function(a){var e=a.response.data.errors;if(t.isLoading=!1,console.log(e),e)e.code.forEach((function(a){t.$bus.$emit("message:push","Something is wrong. ".concat(a),"danger")})),t.isLoading=!1;else{var s=a.response.data.message;t.$bus.$emit("message:push","Something is wrong. ".concat(s),"danger"),t.isLoading=!1}}))},continueShopping:function(){this.$router.push("/services")},nextStep:function(){this.$router.push("/customer_info")}}}),c=n,o=e("2877"),r=Object(o["a"])(c,s,i,!1,null,null,null);a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d2102cc.7b7f2340.js.map