{"version":3,"sources":["webpack:///./src/views/Cart.vue?8be1","webpack:///src/views/Cart.vue","webpack:///./src/views/Cart.vue?ed00","webpack:///./src/views/Cart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","on","$event","removeAllCartItem","_m","cart","_l","item","key","id","removeCartItem","product","_s","title","_e","quantity","updateQuantity","domProps","type","indexOf","_k","keyCode","target","value","unit","price","directives","name","rawName","expression","composing","coupon_code","addCoupon","cartTotal","coupon","percent","continueShopping","nextStep","staticRenderFns","data","status","loadingItem","isLoading","fullPage","created","getCart","methods","$http","get","api","then","patch","delete","post","console","log","errorData","code","forEach","$router","push","component"],"mappings":"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","file":"js/chunk-2d2102cc.7b7f2340.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page__cart\"},[_c('h2',{staticClass:\"text-center\"},[_vm._v(\"Shopping Cart\")]),_c('div',{staticClass:\"my-5 row justify-content-center\"},[_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"text-right mb-3\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeAllCartItem()}}},[_c('i',{staticClass:\"far fa-trash-alt mr-2\"}),_vm._v(\" Delete All \")])]),_c('table',{staticClass:\"table text-left\"},[_vm._m(0),(_vm.cart.length)?_c('tbody',_vm._l((_vm.cart),function(item){return _c('tr',{key:item.id},[_c('td',{staticClass:\"align-middle\"},[_c('button',{staticClass:\"btn btn-outline-danger btn-sm\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeCartItem(item.product.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])]),_c('td',{staticClass:\"align-middle\"},[_vm._v(\" \"+_vm._s(item.product.title)+\" \"),(item.coupon)?_c('div',{staticClass:\"text-success\"},[_vm._v(\" Coupon Used \")]):_vm._e()]),_c('td',{staticClass:\"align-middle\"},[_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-primary\",attrs:{\"disabled\":item.quantity === 1},on:{\"click\":function($event){return _vm.updateQuantity(item.product.id, item.quantity - 1)}}},[_vm._v(\" - \")])]),_c('input',{staticClass:\"form-control text-center\",attrs:{\"type\":\"text\"},domProps:{\"value\":item.quantity},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.updateQuantity(item.product.id, $event.target.value)}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-primary\",on:{\"click\":function($event){return _vm.updateQuantity(item.product.id, item.quantity + 1)}}},[_vm._v(\" + \")])])])]),_c('td',{staticClass:\"align-middle\"},[_vm._v(\" \"+_vm._s(item.product.unit)+\" \")]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(\" \"+_vm._s(item.product.price)+\" \")]),_c('td',{staticClass:\"align-middle text-right\"},[_vm._v(\" \"+_vm._s(item.product.price * item.quantity)+\" \")])])}),0):_vm._e(),_c('tfoot',[_c('tr',[_c('td'),_c('td'),_c('td'),_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"3\"}},[_c('div',{staticClass:\"input-group input-group-sm\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.coupon_code),expression:\"coupon_code\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"Enter Coupon Code\"},domProps:{\"value\":(_vm.coupon_code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.coupon_code=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-primary\",on:{\"click\":_vm.addCoupon}},[_c('i',{staticClass:\"fas fa-gift\"}),_vm._v(\" USE \")])])])])]),_c('tr',[_c('td',{staticClass:\"text-right\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" Total \")]),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm.cartTotal)+\" \")])]),(_vm.coupon.enabled)?_c('tr',[_c('td',{staticClass:\"text-right text-danger\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" \"+_vm._s(100 - _vm.coupon.percent)+\" % OFF \")]),_c('td',{staticClass:\"text-right text-danger\"},[_vm._v(\" - \"+_vm._s(_vm.cartTotal * (100 - _vm.coupon.percent) / 100)+\" \")])]):_vm._e(),(_vm.coupon.enabled)?_c('tr',[_c('td',{staticClass:\"text-right text-success\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" Discounted \")]),_c('td',{staticClass:\"text-right text-success\"},[_vm._v(\" \"+_vm._s(_vm.cartTotal * (_vm.coupon.percent / 100))+\" \")])]):_vm._e()])]),_c('button',{staticClass:\"btn btn-outline-primary text-right mr-2\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.continueShopping}},[_vm._v(\"Continue to look around\")]),_c('button',{staticClass:\"btn btn-primary text-white text-right\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.nextStep}},[_vm._v(\"Next Step\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th'),_c('th',[_vm._v(\"Product\")]),_c('th',{attrs:{\"width\":\"150px\"}},[_vm._v(\" Quantity \")]),_c('th',[_vm._v(\"Unit\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"Session Price\")]),_c('th',{staticClass:\"text-right\"},[_vm._v(\"Total Price\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page__cart\">\n    <!-- 購物車列表 -->\n    <h2 class=\"text-center\">Shopping Cart</h2>\n    <div class=\"my-5 row justify-content-center\">\n      <div class=\"col-md-10\">\n        <div class=\"text-right mb-3\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-danger btn-sm\"\n            @click=\"removeAllCartItem()\"\n          >\n            <i class=\"far fa-trash-alt mr-2\" /> Delete All\n          </button>\n        </div>\n        <table class=\"table text-left\">\n          <thead>\n            <th/>\n            <th>Product</th>\n            <th width=\"150px\">\n              Quantity\n            </th>\n            <th>Unit</th>\n            <th class=\"text-right\">Session Price</th>\n            <th class=\"text-right\">Total Price</th>\n          </thead>\n          <tbody v-if=\"cart.length\">\n            <tr v-for=\"item in cart\" :key=\"item.id\">\n              <td class=\"align-middle\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger btn-sm\"\n                  @click=\"removeCartItem(item.product.id)\"\n                >\n                  <i class=\"far fa-trash-alt\" />\n                </button>\n              </td>\n              <td class=\"align-middle\">\n                {{ item.product.title }}\n                <div\n                  v-if=\"item.coupon\"\n                  class=\"text-success\"\n                >\n                  Coupon Used\n                </div>\n              </td>\n              <td class=\"align-middle\">\n                <div class=\"input-group\">\n                  <div class=\"input-group-prepend\">\n                    <button\n                      class=\"btn btn-outline-primary\"\n                      @click=\"updateQuantity(item.product.id, item.quantity - 1)\"\n                      :disabled=\"item.quantity === 1\"\n                    >\n                      -\n                    </button>\n                  </div>\n                  <input\n                    type=\"text\"\n                    class=\"form-control text-center\"\n                    :value=\"item.quantity\"\n                    @keyup.enter=\"updateQuantity(item.product.id, $event.target.value)\"\n                  >\n                  <div class=\"input-group-append\">\n                    <button\n                      class=\"btn btn-outline-primary\"\n                      @click=\"updateQuantity(item.product.id, item.quantity + 1)\"\n                    >\n                      +\n                    </button>\n                  </div>\n                </div>\n              </td>\n              <td class=\"align-middle\">\n                {{ item.product.unit }}\n              </td>\n              <td class=\"align-middle text-right\">\n                {{ item.product.price }}\n              </td>\n              <td class=\"align-middle text-right\">\n                {{ item.product.price * item.quantity }}\n              </td>\n            </tr>\n          </tbody>\n          <tfoot>\n            <tr>\n              <td/>\n              <td/>\n              <td/>\n              <td\n                colspan=\"3\"\n                class=\"text-right\"\n              >\n                <div class=\"input-group input-group-sm\">\n                  <input\n                    v-model=\"coupon_code\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"Enter Coupon Code\"\n                  >\n                  <div class=\"input-group-append\">\n                    <button\n                    class=\"btn btn-outline-primary\"\n                    @click=\"addCoupon\"\n                    >\n                     <i class=\"fas fa-gift\"> </i>   USE\n                    </button>\n                  </div>\n                </div>\n              </td>\n            </tr>\n            <tr>\n              <td\n                colspan=\"5\"\n                class=\"text-right\"\n              >\n                Total\n              </td>\n              <td class=\"text-right\">\n                {{ cartTotal }}\n              </td>\n            </tr>\n            <tr v-if=\"coupon.enabled\">\n              <td\n                colspan=\"5\"\n                class=\"text-right text-danger\"\n              >\n                {{ 100 - coupon.percent }} % OFF\n              </td>\n              <td class=\"text-right text-danger\">\n                - {{ cartTotal * (100 - coupon.percent) / 100 }}\n              </td>\n            </tr>\n            <tr v-if=\"coupon.enabled\">\n              <td\n                colspan=\"5\"\n                class=\"text-right text-success\"\n              >\n                Discounted\n              </td>\n              <td class=\"text-right text-success\">\n                {{ cartTotal * (coupon.percent / 100) }}\n              </td>\n            </tr>\n          </tfoot>\n        </table>\n        <button type=\"button\"\n          class=\"btn btn-outline-primary text-right mr-2\"\n          @click=\"continueShopping\">Continue to look around</button>\n        <button type=\"button\"\n          class=\"btn btn-primary text-white text-right\"\n          @click=\"nextStep\">Next Step</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Cart',\n  data() {\n    return {\n      cart: {},\n      cartTotal: 0,\n\n      coupon: {},\n      coupon_code: '',\n\n      status: {\n        loadingItem: '',\n      },\n\n      isLoading: false,\n      fullPage: true,\n    };\n  },\n  created() {\n    this.getCart();\n  },\n  methods: {\n    getCart() {\n      this.isLoading = true;\n\n      const api = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/shopping`;\n\n      this.$http.get(api).then((res) => {\n        this.cart = res.data.data;\n\n        this.cartTotal = 0;\n        this.cart.forEach((item) => {\n          this.cartTotal += item.product.price * item.quantity;\n        });\n\n        this.isLoading = false;\n      });\n    },\n    updateQuantity(id, quantity) {\n      // 避免商品數量低於 0 個\n      if (quantity <= 0) return;\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/shopping`;\n\n      const data = {\n        product: id,\n        quantity,\n      };\n\n      this.$http.patch(api, data).then(() => {\n        this.isLoading = false;\n        this.getCart();\n      });\n    },\n    removeAllCartItem() {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/shopping/all/product`;\n\n      this.$http.delete(api)\n        .then(() => {\n          this.$bus.$emit('message:push',\n            'Cart is empty.',\n            'success');\n\n          this.isLoading = false;\n          this.getCart();\n        });\n    },\n    removeCartItem(id) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/shopping/${id}`;\n\n      this.$http.delete(api).then(() => {\n        this.$bus.$emit('message:push',\n          'Deleted',\n          'success');\n\n        this.isLoading = false;\n        this.getCart();\n      });\n    },\n    // 新增 coupon (實際是搜尋 coupon)\n    addCoupon() {\n      this.isLoading = true;\n\n      const api = `${process.env.VUE_APP_APIPATH}${process.env.VUE_APP_UUID}/ec/coupon/search`;\n      // 輸入 coupon 之前必須先戳一下 api/{{ uuid }}/coupon/search API 確定該 coupon 是存在的\n      this.$http.post(api, { code: this.coupon_code }).then((res) => {\n        // 若 coupon 存在就回寫回去到 this.coupon\n        // 該資料會是一個物件格式，詳情可見 API 文件\n        // https://course-ec-api.hexschool.io/document#frontend-search-coupon-code-code\n        this.coupon = res.data.data;\n        this.$bus.$emit('message:push',\n          'Coupon applied.',\n          'success');\n        this.isLoading = false;\n      }).catch((error) => {\n        const errorData = error.response.data.errors;\n        this.isLoading = false;\n        console.log(errorData);\n\n        if (errorData) {\n          errorData.code.forEach((err) => {\n            this.$bus.$emit('message:push',\n              `Something is wrong. ${err}`,\n              'danger');\n          });\n\n          this.isLoading = false;\n        } else {\n          const { message } = error.response.data;\n\n          this.$bus.$emit('message:push',\n            `Something is wrong. ${message}`,\n            'danger');\n\n          this.isLoading = false;\n        }\n      });\n    },\n\n    continueShopping() {\n      this.$router.push('/services');\n    },\n    nextStep() {\n      this.$router.push('/customer_info');\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=0a576736&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}